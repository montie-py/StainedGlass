@page

@{
    Layout = "_AdminLayout";
}

<h2>Item @ViewBag.Item.Slug</h2>

<dl>
    <dt>Name:</dt>
    <dd>@ViewBag.Item.Title</dd>
    <dt>Description:</dt>
    <dd>@ViewBag.Item.Description</dd>
    <dt>Images:</dt>
    <dd>
        @if (ViewBag.ItemImages.Count > 0)
        {
            foreach (var itemImage in ViewBag.ItemImages)
            {
                <img width="150px" src="data:image/jpeg;base64,@itemImage" alt="Item @ViewBag.Item.Title Image" />   
            }
        }
    </dd>
    <dt>Sanctuary Region:</dt>
    <dd>@ViewBag.Item.SanctuaryRegion.Name</dd>
    <dt>Position:</dt>
    <dd>
        @if (ViewBag.SanctuaryRegionImage != null)
        { 
            <div class="position-image-container">
                <img width="150px" src="data:image/jpeg;base64,@ViewBag.SanctuaryRegionImage" alt="Sanctuary Region @ViewBag.Item.SanctuaryRegion.Name Image" />
                <i class="bi bi-asterisk" style="position: absolute; @ViewBag.Item.Position"></i>
            </div>
        }
    </dd>
    @if (ViewBag.Item.RelatedItems != null)
    {
        <dt>RelatedItems:</dt>
        <dd>
            @foreach (var relatedItem in ViewBag.Item.RelatedItems)
            {
                <a href="/admin/item/@relatedItem.Key">@relatedItem.Value.Title</a>
            }
        </dd>
    }
</dl>